<hr>
<p>title: Step.2 基本配置<br>date: 2020&#x2F;08&#x2F;13 20:56:48<br>categories:</p>
<ul>
<li>[计算机科学, hexo博客, Theme Shoka Documentation]<br>tags:</li>
<li>Hexo</li>
<li>教程<br>valine:<br>placeholder: “1. 提问前请先仔细阅读本文档⚡\n2. 页面显示问题💥，请提供控制台截图📸或者您的测试网址\n3. 其他任何报错💣，请提供详细描述和截图📸，祝食用愉快💪”<br>audio:<ul>
<li><a href="https://music.163.com/song?id=1387098940">https://music.163.com/song?id=1387098940</a></li>
</ul>
</li>
</ul>
<hr>
<p>:::primary<br><a href="/computer-science/note/theme-shoka-doc/">:rocket:快速开始</a> - <a href="/computer-science/note/theme-shoka-doc/dependents/">:love_letter:依赖插件</a> - <a href="/computer-science/note/theme-shoka-doc/config/"><strong>:pushpin:基本配置</strong></a> - <a href="/computer-science/note/theme-shoka-doc/display/">:rainbow:界面显示</a> - <a href="/computer-science/note/theme-shoka-doc/special/">:unicorn:特殊功能</a><br>:::</p>
<h1 id="站点别称"><a href="#站点别称" class="headerlink" title="站点别称"></a>站点别称</h1><pre><code class="yml">alternate: Yume Shoka
</code></pre>
<p>这里设置的名称代替Logo，显示在页面顶部，以及页尾:copyright:处</p>
<h1 id="静态文件目录"><a href="#静态文件目录" class="headerlink" title="静态文件目录"></a>静态文件目录</h1><pre><code class="yml">statics: / #//cdn.jsdelivr.net/gh/amehime/shoka@latest/
</code></pre>
<p>默认值是<code>/</code>，指使用本地静态文件<br>可以修改成<code>//cdn.jsdelivr.net/gh/您的github用户名/您的项目名@latest/</code>这种形式，以使用jsDelivr进行加速。<br>PS：jsDelivr并不是实时更新，重新生成文件后需要耐心等待</p>
<pre><code class="yml">css: css
js: js
images: images
</code></pre>
<p>静态文件所处目录的实际目录名，这些一般不改。</p>
<h1 id="夜间模式"><a href="#夜间模式" class="headerlink" title="夜间模式"></a>夜间模式</h1><pre><code class="yml">darkmode: # true
</code></pre>
<p>默认情况下，是否开启夜间模式取决于（优先级从高到低）：</p>
<ol>
<li>访客点击页面头部切换按钮的自行选择</li>
<li>访客切换了浏览设备的主题色调</li>
<li>您的<code>darkmode</code>配置项</li>
</ol>
<h1 id="自动定位"><a href="#自动定位" class="headerlink" title="自动定位"></a>自动定位</h1><pre><code class="yml">auto_scroll: # false
</code></pre>
<p>默认情况下，再次打开页面时，会自动滚动到上次浏览的位置。<br>这个选项设为<code>false</code>时将停用此功能。</p>
<h1 id="加载动画"><a href="#加载动画" class="headerlink" title="加载动画"></a>加载动画</h1><pre><code class="yml"># 是否显示页面加载动画loading-cat
loader:
  start: true # 当初次打开页面时，显示加载动画
  switch: true # tab切换到其他页面时，显示加载动画
</code></pre>
<p>tab切换后只是显示loading动画，实际并未重新加载页面</p>
<h1 id="页面特效"><a href="#页面特效" class="headerlink" title="页面特效"></a>页面特效</h1><p>单击页面的烟花效果配置如下</p>
<pre><code class="yml">fireworks:
  enable: true # 是否启用
  color: # 烟花颜色
    - &quot;rgba(255,182,185,.9)&quot;
    - &quot;rgba(250,227,217,.9)&quot;
    - &quot;rgba(187,222,214,.9)&quot;
    - &quot;rgba(138,198,209,.9)&quot;
</code></pre>
<h1 id="加载谷歌字体"><a href="#加载谷歌字体" class="headerlink" title="加载谷歌字体"></a>加载谷歌字体</h1><pre><code class="yml">font:
  enable: true
  # Font options:
  # `external: true` will load this font family from `host` above.
  # `family: Times New Roman`. Without any quotes.
  # `size: x.x`. Use `em` as unit. Default: 1 (16px)

  # Global font settings used for all elements inside &lt;body&gt;.
  global:
    external: true
    family: Mulish
    size:

  # Font settings for alternate title.
  logo:
    external: true
    family: Fredericka the Great
    size: 3.5

  # Font settings for site title.
  title:
    external: true
    family: Noto Serif JP
    size: 2.5

  # Font settings for headlines (&lt;h1&gt; to &lt;h6&gt;).
  headings:
    external: true
    family: Noto Serif SC
    size:

  # Font settings for posts.
  posts:
    external: true
    family:

  # Font settings for &lt;code&gt; and code blocks.
  codes:
    external: true
    family: Inconsolata
</code></pre>
<p>此功能基本参考NexT。<br>加粗标题的字体总是使用<code>Noto Serif</code>，为了正确友好的显示日文中的汉字，会先后加载<code>headings</code>和<code>title</code>的字体设置。</p>
<h1 id="iconfont图标"><a href="#iconfont图标" class="headerlink" title="iconfont图标"></a><code>iconfont</code>图标</h1><p>主题没有直接使用Font Awesome，是因为用不到那么多icon感觉非常浪费，因此在Iconfont上重新建立了一个项目。<br><code>font-family</code>设为<code>ic</code>，所有字体样式前缀为<code>i-</code>，具体参见<code>&lt;root&gt;/themes/shoka/source/css/_iconfont.styl</code>。</p>
<pre><code class="yml"># project of https://www.iconfont.cn/
# //at.alicdn.com/t/font_1832207_c8i9n1ulxlt.css =&gt; 1832207_c8i9n1ulxlt
iconfont: &quot;1832207_c8i9n1ulxlt&quot;
</code></pre>
<p>如果需要添加或修改，请留言告诉我您的<a href="https://www.iconfont.cn/">Iconfont</a>用户名，我将把您添加到目前的<a href="https://www.iconfont.cn/manage/index?manage_type=myprojects&projectId=1832207">项目</a>中。</p>
<p>添加权限为<code>只读</code>，此后您可以任意全选，批量保存到购物车中，添加至您自己的项目里，并将主题配置文件中的<code>iconfont</code>值改为您的项目。</p>
<p>注意，您的项目应设置<code>FontClass/Symbol 前缀</code>为<code>i-</code>。</p>
<p>在<code>&lt;root&gt;/source/_data/</code>目录新建文件<code>iconfont.styl</code>，把新增或修改的图标样式复制到这个文件中。</p>
<blockquote>
<p>自定义<code>iconfont.styl</code>文件将覆盖主题默认样式，为了避免出错，请保证原有样式名均存在，在原有样式基础上进行增删改。</p>
</blockquote>
<h1 id="菜单与社交按钮"><a href="#菜单与社交按钮" class="headerlink" title="菜单与社交按钮"></a>菜单与社交按钮</h1><pre><code class="yml">menu:
  home: / || home
  about: /about/ || user
  posts:
    default: / || feather
    archives: /archives/ || list-alt
    categories: /categories/ || th
    tags: /tags/ || tags
  # friends: /friends/ || heart
  # links: /links/ || magic

social:
  github: https://github.com/yourname || github || &quot;#191717&quot;
  #google: https://plus.google.com/yourname || google
  twitter: https://twitter.com/yourname || twitter || &quot;#00aff0&quot;
  zhihu: https://www.zhihu.com/people/yourname || zhihu || &quot;#1e88e5&quot;
  music: https://music.163.com/#/user/home?id=yourid || cloud-music || &quot;#e60026&quot;
  weibo: https://weibo.com/yourname || weibo || &quot;#ea716e&quot;
  about: https://about.me/yourname || address-card || &quot;#3b5998&quot;
  #email: mailto:yourname@mail.com || envelope || &quot;#55acd5&quot;
  #facebook: https://www.facebook.com/yourname || facebook
  #stackoverflow: https://stackoverflow.com/yourname || stack-overflow
  #youtube: https://youtube.com/yourname || youtube
  #instagram: https://instagram.com/yourname || instagram
  #skype: skype:yourname?call|chat || skype
  #douban: https://www.douban.com/people/yourname/ || douban
</code></pre>
<p>如上，使用<code>||</code>作为分隔符，依次为 <code>链接 || 图标 || 颜色</code>。<br>注意，只需要写图标名称，如<code>github</code>，则会自动转换为<code>ic i-github</code>。<br>十六进制颜色码需要<code>&quot;&quot;</code>包绕。</p>
<p><code>menu</code> 支持一级子目录，子目录设置中的第一项必须为<code>default</code>，用来定义父级按钮的样式。</p>
<p>菜单显示文字可以在语言包中定义，<a href="../display/#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80%E5%8C%85">具体请戳这里</a></p>
<h1 id="边栏配置"><a href="#边栏配置" class="headerlink" title="边栏配置"></a>边栏配置</h1><p>边栏可以选择在左侧，或右侧<br>修改头像文件的地址，相对于静态文件目录<code>images</code>中配置的路径。</p>
<pre><code class="yml">sidebar:
  # Sidebar Position.
  position: left
  #position: right
  # Replace the default avatar image and set the url here.
  avatar: avatar.jpg
</code></pre>
<p>可以将自己的图片放在<code>&lt;root&gt;/source/_data/images/</code>目录，甚至以同名覆盖主题内默认的头像图片，<a href="../display/#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%BB%E9%A2%98%E5%9B%BE%E7%89%87">具体请戳这里</a></p>
<h1 id="底部widgets"><a href="#底部widgets" class="headerlink" title="底部widgets"></a>底部widgets</h1><p>目前页面底部可以显示两个小部件，即<code>随机文章</code>和<code>最近评论</code>。</p>
<pre><code class="yml">widgets:
  random_posts: true # 显示随机文章
  recent_comments: true # 显示最近评论
</code></pre>
<h1 id="字数及阅读时间统计"><a href="#字数及阅读时间统计" class="headerlink" title="字数及阅读时间统计"></a>字数及阅读时间统计</h1><p>安装好<code>hexo-symbols-count-time</code>插件后，不需要修改站点配置文件，直接使用插件默认配置就行。</p>
<p>需要修改主题配置文件，找到两处<code>cout</code>，修改为<code>true</code>：</p>
<pre><code class="yml"># 页尾全站统计
footer:
  since: 2010
  count: true

# 文章界面统计
post:
  count: true
</code></pre>
<h1 id="文章评论"><a href="#文章评论" class="headerlink" title="文章评论"></a>文章评论</h1><p><a href="https://valine.js.org/quickstart.html">如何获取LeanCloud的appId和appKey</a>。</p>
<pre><code class="yml">valine:
  appId: #Your_appId
  appKey: #Your_appkey
  placeholder: ヽ(○´∀`)ﾉ♪ # Comment box placeholder
  avatar: mp # Gravatar style : mp, identicon, monsterid, wavatar, robohash, retro
  pageSize: 10 # Pagination size
  lang: zh-CN
  visitor: true # 文章访问量统计
  NoRecordIP: false # 不记录IP
  serverURLs: # When the custom domain name is enabled, fill it in here (it will be detected automatically by default, no need to fill in)
  powerMode: true # 默认打开评论框输入特效
  tagMeta:
    visitor: 新朋友
    master: 主人
    friend: 小伙伴
    investor: 金主粑粑
  tagColor:
    master: &quot;var(--color-orange)&quot;
    friend: &quot;var(--color-aqua)&quot;
    investor: &quot;var(--color-pink)&quot;
  tagMember:
    master:
      # - hash of master@email.com
      # - hash of master2@email.com
    friend:
      # - hash of friend@email.com
      # - hash of friend2@email.com
    investor:
      # - hash of investor1@email.com
</code></pre>
<p>tag标签显示在评论者名字的后面，默认是<code>tagMeta.visitor</code>对应的值。<br>在<code>tagMeta</code>和<code>tagColor</code>中，除了<code>visitor</code>这个key不能修改外，其他key都可以换一换，但需要保证一致性。</p>
<pre><code class="yml">  tagMeta:
    visitor: 游客
    admin: 管理员
    waifu: 我老婆
  tagColor:
    visitor: &quot;#855194&quot;
    admin: &quot;#a77c59&quot;
    waifu: &quot;#ed6ea0&quot;
  tagMember:
    admin:
      # - hash of admin@email.com
    waifu:
      # - hash of waifu@email.com
</code></pre>
<p>在文章Front Matter中也可以配置上述参数，访问该文章页面时，将覆盖全局配置。<br>尤其可以用来配置一个特殊的placeholder。</p>
<pre><code class="yml">valine:
  placeholder: &quot;1. 提问前请先仔细阅读本文档⚡\n2. 页面显示问题💥，请提供控制台截图📸或者您的测试网址\n3. 其他任何报错💣，请提供详细描述和截图📸，祝食用愉快💪&quot;
---
</code></pre>
<p>评论通知与管理工具建议使用这个<a href="https://github.com/DesertsP/Valine-Admin">Valine-Admin</a>。<br>注意<code>SITE_URL</code>需要以<code>/</code>结尾。</p>
<p>如果某一篇文章需要关闭评论功能，则在文章Front Matter中配置：</p>
<pre><code class="yml">---
title: 关闭评论
comment: false
---
</code></pre>
<h1 id="背景音乐"><a href="#背景音乐" class="headerlink" title="背景音乐"></a>背景音乐</h1><p>在主题配置文件中，设置全局播放列表。<br>在文章的 Front Matter 中，设置文章专有播放列表，访问该文章页面时，将覆盖全局配置。</p>
<pre><code class="yml">audio:
  - https://music.163.com/song?id=1387098940
  - https://music.163.com/#/playlist?id=2088001742
  - https://www.xiami.com/collect/250830668
  - https://y.qq.com/n/yqq/playsquare/3535982902.html
</code></pre>
<p>如上，可以直接使用网易云、虾米、QQ音乐的播放列表、单曲，可以同时填写多个。</p>
<pre><code class="yml">audio:
  - title: 列表1
    list:
      - https://music.163.com/#/playlist?id=2943811283
      - https://music.163.com/#/playlist?id=2297706586
  - title: 列表2
    list:
      - https://music.163.com/#/playlist?id=2031842656
</code></pre>
<p>如果需要自定义媒体文件，可以按照以下格式填写：</p>
<pre><code class="yml">audio:
  - name: &quot;曲目1&quot;
    url: &quot;播放地址&quot;
    artist: &quot;艺术家&quot;
    cover: &quot;封面&quot;
    lrc: &quot;歌词&quot;
  - name: &quot;曲目2&quot;
    url: &quot;播放地址&quot;
    artist: &quot;艺术家&quot;
    cover: &quot;封面&quot;
    lrc: &quot;歌词&quot;
</code></pre>
<pre><code class="yml">audio:
    - title: 列表1
      list:
        - name: &quot;曲目1&quot;
          url: &quot;播放地址&quot;
          artist: &quot;艺术家&quot;
          cover: &quot;封面&quot;
          lrc: &quot;歌词&quot;
        - name: &quot;曲目2&quot;
          url: &quot;播放地址&quot;
          artist: &quot;艺术家&quot;
          cover: &quot;封面&quot;
          lrc: &quot;歌词&quot;
    - title: 列表2
      list:
        - https://music.163.com/#/playlist?id=2031842656
</code></pre>
<p>如果要关闭当前页面的背景音乐播放器，则在文章Front Matter中配置：</p>
<pre><code class="yml">---
title: 关闭背景音乐
audio: false
---
</code></pre>
<h1 id="随机图库"><a href="#随机图库" class="headerlink" title="随机图库"></a>随机图库</h1><ul>
<li><p>默认的图片列表位于<code>&lt;root&gt;/themes/shoka/_images.yml</code>中。<br>使用了渣浪图库，使用一些上传工具，比如<a href="https://pic.gimhoy.com/">这里</a><br>上传后图片的链接是<code>http://wx4.sinaimg.cn/large/6833939bly1gicmnywqgpj20zk0m8dwx.jpg</code>。<br>只需要新一行写上<code>- 6833939bly1gicmnywqgpj20zk0m8dwx.jpg</code>。</p>
<p>如果想要自定义，则在<code>&lt;root&gt;/source/_data/</code>目录新建一个<code>images.yml</code>文件，这个文件中的图片至少6枚，将完全覆盖默认的图片列表。</p>
</li>
<li><p>也可以直接在图片列表yml文件中，写上任意外链图片地址<br>&#96;&#96;&#96;yml</p>
</li>
<li><p><a href="https://i.loli.net/2020/10/30/qAMYEFXxJcKRsiG.gif">https://i.loli.net/2020/10/30/qAMYEFXxJcKRsiG.gif</a></p>
</li>
<li><p><a href="https://i.loli.net/2020/10/30/rjdhcSgEN8COBPA.jpg">https://i.loli.net/2020/10/30/rjdhcSgEN8COBPA.jpg</a></p>
</li>
<li><p><a href="https://i.loli.net/2020/10/30/HKyzSd7NI3mlBpt.jpg">https://i.loli.net/2020/10/30/HKyzSd7NI3mlBpt.jpg</a></p>
</li>
<li><p><a href="https://i.loli.net/2020/10/30/Y1CBXqgeokEs457.jpg">https://i.loli.net/2020/10/30/Y1CBXqgeokEs457.jpg</a></p>
</li>
<li><p><a href="https://i.loli.net/2020/10/30/Z5W6r2BSoiThHG1.jpg">https://i.loli.net/2020/10/30/Z5W6r2BSoiThHG1.jpg</a></p>
<pre><code>
</code></pre>
</li>
<li><p>也可以在主题配置文件中，设置图床API：</p>
<pre><code class="yml">image_server: &quot;https://acg.xydwz.cn/api/api.php&quot;
</code></pre>
</li>
</ul>
<h1 id="加载第三方组件"><a href="#加载第三方组件" class="headerlink" title="加载第三方组件"></a>加载第三方组件</h1><pre><code class="yml">vendors:
  css:
    # 略略略
  js:
    # 略略略
</code></pre>
<p>包括</p>
<p>–|–|–<br><code>pace</code> | 加载进度条|全局<br><code>pjax</code> | 页面无刷新加载|全局<br><code>anime</code> | js动画效果|全局<br><code>algolia</code> <code>instantsearch</code>| 基于algolia的站内搜索|全局<br><code>lazyload</code> | 图片懒加载|全局<br><code>quicklink</code> | 链接资源预加载|全局<br><code>fetch</code> | 获取播放列表|全局<br><code>katex</code> <code>copy_tex</code>|数学公式显示及复制|按需<br><code>fancybox</code> | 图片放大显示及排列|按需<br><code>valine</code> | 基于LeanCloud的评论系统及文章阅读次数统计|按需<br><code>chart</code> | 图表显示|按需</p>
<p>以上文件加载全部基于jsDelivr，并对全局加载的组件进行了文件合并。<br>如果不明白啥意思，则不要轻易修改。</p>
<p>:::danger<br>主题版本升级的时候，可能会修改这里。<br>如果修改过主题默认<code>_config.yml</code>，记得更新主题时，末尾的<code>vendors</code>也要及时修改。<br>:::</p>
